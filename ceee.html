
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/png" href="https://s16.byteoversea.com/ee/larksuite/faviconv.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="飞书（Feishu），是真正的一站式企业沟通与协作平台，整合即时沟通、日历、在线文档、云盘、应用中心等功能于一体，打造高效的办公方式，加速企业成长。">
    <meta name="baidu-site-verification" content="TNSKfyrUAp" />
    <title>飞书官网 - 在飞书，享高效</title>
    <script>
      if (location.href.indexOf('http://www.feishu.cn') === 0) {
        location.href = location.href.replace(/^http:(.*)/, 'https:$1')
      }
    </script>
<style>.app-shell-hide{visibility:hidden;opacity:0}</style><style>.app-shell-error,.app-shell-loading{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.app-shell-spinner{margin:0 auto;width:70px;text-align:center}.app-shell-spinner>div{width:18px;height:18px;background-color:#37f;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s ease-in-out infinite both;animation:sk-bouncedelay 1.4s ease-in-out infinite both}.app-shell-spinner .app-shell-bounce1{-webkit-animation-delay:.1s;animation-delay:.1s}.app-shell-spinner .app-shell-bounce2{-webkit-animation-delay:.26s;animation-delay:.26s}.app-shell-spinner .app-shell-bounce3{-webkit-animation-delay:.42s;animation-delay:.42s}@-webkit-keyframes sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.app-shell-notify{z-index:999999;position:fixed;top:20px;right:20px;width:360px;box-sizing:border-box;border:1px solid #ebeef5;box-shadow:0 2px 12px rgba(0,0,0,.1);padding:16px 24px;border-radius:6px;background:#fff;overflow:hidden;animation-duration:.3s;animation-fill-mode:both;animation-name:slideInRight}.app-shell-notify-fade-out{animation-duration:.5s;animation-name:fadeOut}.app-shell-notify-wrapper{position:relative}.app-shell-notify-close{position:absolute;right:0;top:2px;width:18px;height:18px;opacity:.3;cursor:pointer}.app-shell-notify-close:hover{opacity:.8}.app-shell-notify-close:after,.app-shell-notify-close:before{position:absolute;top:0;right:10px;content:"";height:18px;width:2px;background-color:#333}.app-shell-notify-close:before{transform:rotate(45deg)}.app-shell-notify-close:after{transform:rotate(-45deg)}.app-shell-notify-title{color:#303133;font-weight:700;font-size:16px;margin-right:20px}.app-shell-notify-desc{font-size:14px;margin-top:6px;color:#606266;line-height:21px;max-height:126px;overflow-y:scroll}.app-shell-notify-btngroup{display:flex;justify-content:flex-end;align-items:center;margin-top:10px}.app-shell-notify-contact,.app-shell-notify-reload{cursor:pointer;font-size:14px;width:100px;height:32px;line-height:32px;text-align:center;border-radius:4px;color:#fff;background-color:#37f;opacity:.8}.app-shell-notify-contact:hover,.app-shell-notify-reload:hover{opacity:1}.app-shell-notify-contact{margin-right:10px;color:#37f;background-color:transparent}.app-shell-notify-contact:hover{text-decoration:underline}@keyframes slideInRight{0%{transform:translate3d(100%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}</style></head>
<body>
<div class="app-shell-loading">
    <div class="app-shell-spinner">
        <div class="app-shell-bounce1"></div>
        <div class="app-shell-bounce2"></div>
        <div class="app-shell-bounce3"></div>
    </div>
</div>

<div class="app-shell-loaded app-shell-hide"></div>

<div class="app-shell-notify app-shell-hide"></div>
<script src="https://internal-api.feishu.cn/security/device/captcha/device?disableSSL=false&appId=feishu_website" type="application/javascript"></script>
<script>!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function n(t){W=t}function r(t){z=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof U?function(){U(a)}:c()}function s(){var t=0,e=new H(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<N;t+=2){var e=Q[t],n=Q[t+1];e(n),Q[t]=void 0,Q[t+1]=void 0}N=0}function f(){try{var t=Function("return this")().require("vertx");return U=t.runOnLoop||t.runOnContext,i()}catch(e){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[V]&&x(r);var o=n._state;if(o){var i=arguments[o-1];z(function(){return T(o,r,i,n._result)})}else j(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return w(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function y(t,e,n){z(function(t){var r=!1,o=_(n,e,function(n){r||(r=!0,e!==n?w(t,n):A(t,n))},function(e){r||(r=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,S(t,o))},t)}function m(t,e){e._state===Z?A(t,e._result):e._state===$?S(t,e._result):j(e,void 0,function(e){return w(t,e)},function(e){return S(t,e)})}function b(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?m(t,n):void 0===r?A(t,n):e(r)?y(t,n,r):A(t,n)}function w(e,n){if(e===n)S(e,v());else if(t(n)){var r=void 0;try{r=n.then}catch(o){return void S(e,o)}b(e,n,r)}else A(e,n)}function g(t){t._onerror&&t._onerror(t._result),E(t)}function A(t,e){t._state===X&&(t._result=e,t._state=Z,0!==t._subscribers.length&&z(E,t))}function S(t,e){t._state===X&&(t._state=$,t._result=e,z(g,t))}function j(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+Z]=n,o[i+$]=r,0===i&&t._state&&z(E,t)}function E(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?T(n,r,o,i):o(i);t._subscribers.length=0}}function T(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=!0;if(i){try{s=r(o)}catch(a){c=!1,u=a}if(n===s)return void S(n,d())}else s=o;n._state!==X||(i&&c?w(n,s):c===!1?S(n,u):t===Z?A(n,s):t===$&&S(n,s))}function M(t,e){try{e(function(e){w(t,e)},function(e){S(t,e)})}catch(n){S(t,n)}}function P(){return tt++}function x(t){t[V]=tt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function C(){return new Error("Array Methods must be provided an Array")}function O(t){return new et(this,t).promise}function k(t){var e=this;return new e(L(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(p);return S(n,t),n}function Y(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=nt}var K=void 0;K=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var L=K,N=0,U=void 0,W=void 0,z=function(t,e){Q[N]=t,Q[N+1]=e,N+=2,2===N&&(W?W(a):R())},B="undefined"!=typeof window?window:void 0,G=B||{},H=G.MutationObserver||G.WebKitMutationObserver,I="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),R=void 0;R=I?o():H?s():J?u():void 0===B&&"function"==typeof require?f():c();var V=Math.random().toString(36).substring(2),X=void 0,Z=1,$=2,tt=0,et=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[V]||x(this.promise),L(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):S(this.promise,C())}return t.prototype._enumerate=function(t){for(var e=0;this._state===X&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(u){s=!0,i=u}if(o===l&&t._state!==X)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===nt){var c=new n(p);s?S(c,i):b(c,t,o),this._willSettleAt(c,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===X&&(this._remaining--,t===$?S(r,n):this._result[e]=n),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){return n._settledAt(Z,e,t)},function(t){return n._settledAt($,e,t)})},t}(),nt=function(){function t(e){this[V]=P(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&Y(),this instanceof t?M(this,e):q())}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype["finally"]=function(t){var n=this,r=n.constructor;return e(t)?n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):n.then(t,t)},t}();return nt.prototype.then=l,nt.all=O,nt.race=k,nt.resolve=h,nt.reject=F,nt._setScheduler=n,nt._setAsap=r,nt._asap=z,nt.polyfill=D,nt.Promise=nt,nt.polyfill(),nt});</script><script>!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.AppShell=t()}(this,function(){"use strict";var t,c,r,u;!function(g,v){function u(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function e(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function t(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function n(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function m(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(e,t){for(var n=t;n;){if(n==e)return!0;n=_(n)}return!1}function _(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}"IntersectionObserver"in g&&"IntersectionObserverEntry"in g&&"intersectionRatio"in g.IntersectionObserverEntry.prototype?"isIntersecting"in g.IntersectionObserverEntry.prototype||Object.defineProperty(g.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},e.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(t(g,"resize",this._checkForIntersections,!0),t(v,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in g&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(v,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(g,"resize",this._checkForIntersections,!0),n(v,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),c=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(e){var t=e.element,n=m(t),r=this._rootContainsTarget(t),i=e.entry,o=a&&r&&this._computeTargetAndRootIntersection(t,c),s=e.entry=new u({time:g.performance&&performance.now&&performance.now(),target:t,boundingClientRect:n,rootBounds:c,intersectionRect:o});i?a&&r?this._hasCrossedThreshold(i,s)&&this._queuedEntries.push(s):i&&i.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=g.getComputedStyle(e).display){for(var n,r,i,o,s,a,c,u,l=m(e),h=_(e),f=!1;!f;){var d=null,p=1==h.nodeType?g.getComputedStyle(h):{};if("none"==p.display)return;if(h==this.root||h==v?(f=!0,d=t):h!=v.body&&h!=v.documentElement&&"visible"!=p.overflow&&(d=m(h)),d&&(n=d,r=l,void 0,i=Math.max(n.top,r.top),o=Math.min(n.bottom,r.bottom),s=Math.max(n.left,r.left),a=Math.min(n.right,r.right),u=o-i,!(l=0<=(c=a-s)&&0<=u&&{top:i,bottom:o,left:s,right:a,width:c,height:u})))break;h=_(h)}return l}},e.prototype._getRootRect=function(){var e;if(this.root)e=m(this.root);else{var t=v.documentElement,n=v.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},e.prototype._expandRectByRootMargin=function(n){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100}),t={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},e.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},e.prototype._rootIsInDom=function(){return!this.root||r(v,this.root)},e.prototype._rootContainsTarget=function(e){return r(this.root||v,e)},e.prototype._registerInstance=function(){},e.prototype._unregisterInstance=function(){},g.IntersectionObserver=e,g.IntersectionObserverEntry=u)}(window,document),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),Array.from||(Array.from=(t=Object.prototype.toString,c=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},r=Math.pow(2,53)-1,u=function(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),r)},function(e){var t=function(e){if(0<e.size&&e.values){for(var t=e.values(),n=t.next(),r=[];!n.done;)r.push(n.value),n=t.next();return r}return Object(e)}(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=1<arguments.length?arguments[1]:void 0;if(void 0!==r){if(!c(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,o=u(t.length),s=c(this)?Object(new this(o)):new Array(o),a=0;a<o;)i=t[a],s[a]=r?void 0===n?r(i,a):r.call(n,i,a):i,a+=1;return s.length=o,s}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(o,s,a,c){return new(a||(a=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,r)}i((c=c.apply(o,s||[])).next())})}function h(n,r){var i,o,s,e,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var a=n(function(s){!function(e){function t(){}var n=t.prototype,r=e.EventEmitter;function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}n.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],t))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},n.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=r,t},s.exports?s.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:e||{})}),l=new(function(){function e(){this.preFetched={},this.support("prefetch")?this.supportedPrefetchStrategy=this.linkPrefetchStrategy:this.supportedPrefetchStrategy=this.xhrPrefetchStrategy}return e.prototype.fetch=function(e,t){var n=this;if(!this.shouldPrefetch(e))return Promise.resolve({});var r=this.supportedPrefetchStrategy;return t&&(r=this.highPriFetchStrategy),r(e).then(function(){n.preFetched[e]=!0})},e.prototype.shouldPrefetch=function(e){if(this.preFetched[e])return!1;var t=window.navigator.connection;return!!t&&(!(t.effectiveType||"").includes("2g")&&!t.saveData)},e.prototype.support=function(e){var t=document.createElement("link");return t.relList&&t.relList.supports&&t.relList.supports(e)},e.prototype.linkPrefetchStrategy=function(n){return new Promise(function(e){var t=document.createElement("link");t.rel="prefetch",t.href=n,t.onload=e,t.onerror=e,document.head.appendChild(t)})},e.prototype.xhrPrefetchStrategy=function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,n.withCredentials=!0),n.onload=function(){200===n.status?e():t()},n.send()})},e.prototype.highPriFetchStrategy=function(e){return void 0===window.fetch?this.xhrPrefetchStrategy(e):window.fetch(e,{credentials:"include"})},e}()),f=void 0!==window.requestIdleCallback?window.requestIdleCallback:function(e){var t=Date.now();return window.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},d=new(function(){function e(){var r=this;this.toPrefetch=Object.create(null),this.prefetchHelper=this.prefetchHelper.bind(this),this.observer=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target,n=t.href;void 0!==r.toPrefetch[n]&&(r.observer.unobserve(t),r.prefetchHelper(n))}})})}return e.prototype.prefetch=function(e){var t=this;void 0===e&&(e={}),e.origins=e.origins||[window.location.hostname],e.ignores=e.ignores||[],e.timeout=e.timeout||2e3,e.timeoutFn=e.timeoutFn||f;var n=e.ignores,r=e.origins,i=e.priority,o=e.timeout,s=e.timeoutFn,a=e.urls;s(function(){a?a.forEach(t.prefetchHelper):Array.from((e.el||document).querySelectorAll("a"),function(e){if(e.href&&(t.observer.observe(e),!r.length||-1<r.indexOf(e.hostname))){if(t.isIgnored(e,n))return;t.toPrefetch[e.href]=void 0!==i}})},{timeout:o})},e.prototype.prefetchHelper=function(e){var t=this.toPrefetch[e],n=new URL(e,location.href).toString();delete this.toPrefetch[e],l.fetch(n,t)},e.prototype.isIgnored=function(t,e){var n=this;return Array.isArray(e)?e.some(function(e){return n.isIgnored(t,e)}):(e.test||e).call(e,t.href,t)},e}()),p=function(e){return void 0===e},g=function(e){var t;console.info("["+((t=new Date).getFullYear()+"-"+m(t.getMonth()+1)+"-"+m(t.getDate())+" "+m(t.getHours())+":"+m(t.getMinutes())+":"+m(t.getSeconds()))+"] - "+e)},v="__app-shell-open-schema-iframe-id__";function m(e){return e<10?"0"+e:""+e}var _=function(){function e(){if(p(document))throw new Error("App Shell Only Run in Browser.");this.headEl=document.head,this.bodyEl=document.body}return e.prototype.loadResources=function(i,o){return s(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){if(0===(t=i.length))return[2,Promise.resolve([])];for(n=[],r=0;r<t;r+=1)n.push(this.loadWithRetry(i[r],o));return[2,Promise.all(n)]})})},e.prototype.loadWithRetry=function(u,l){return s(this,void 0,void 0,function(){var t,n,r,i,o,s,a,c;return h(this,function(e){switch(e.label){case 0:return t=u.url,n=u.backupUrl,r=l.crossOrigin,i=l.retry,o=l.timeout,s={backupUrl:n,nativeEvent:null,realRetry:0,retry:i,successUrl:"",timeout:o,url:t},[4,this.load(t,r,o)];case 1:a=e.sent(),s.nativeEvent=a.nativeEvent,c=1,e.label=2;case 2:return c<=i&&!a.isSuccess?(g("第"+c+"次重试"),[4,this.load(t,r,o)]):[3,5];case 3:a=e.sent(),s.realRetry+=1,s.nativeEvent=a.nativeEvent,e.label=4;case 4:return c+=1,[3,2];case 5:return a.isSuccess?(s.successUrl=t,[2,Promise.resolve(s)]):n?[4,this.load(n,r,o)]:[2,Promise.resolve(s)];case 6:a=e.sent(),s.nativeEvent=a.nativeEvent,c=1,e.label=7;case 7:return c<=i&&!a.isSuccess?(g("第"+c+"次备用地址重试"),[4,this.load(n,l.crossOrigin,o)]):[3,10];case 8:a=e.sent(),s.realRetry+=1,s.nativeEvent=a.nativeEvent,e.label=9;case 9:return c+=1,[3,7];case 10:return a.isSuccess&&(s.successUrl=n),[2,Promise.resolve(s)]}})})},e.prototype.load=function(e,t,n){var r=this;if(this.isResourceLoaded(e))return Promise.resolve({isSuccess:!0,nativeEvent:null});var i=this.createElement(e,t),o=this.getContainerElement(),s=0,a=new Promise(function(t){i.onload=function(e){window.clearTimeout(s),r.shouldRemoveWhenLoaded()&&o.removeChild(i),t({isSuccess:!0,nativeEvent:e})},i.onerror=function(e){window.clearTimeout(s),o.removeChild(i),t({isSuccess:!1,nativeEvent:e})}}),c=new Promise(function(e){s=window.setTimeout(function(){o.removeChild(i),e({isSuccess:!1,nativeEvent:"Load Resource Timeout"})},n)});return o.appendChild(i),Promise.race([a,c])},e.prototype.getContainerElement=function(){return this.bodyEl},e.prototype.isResourceLoaded=function(e){return null!==document.getElementById(e)},e}(),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.createElement=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.src=e,n.id=e,n.async=!1,t&&(n.crossOrigin=t),n},t.prototype.shouldRemoveWhenLoaded=function(){return!1},t}(_)),b=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.createElement=function(e,t){var n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.media="all",n.href=e,n.id=e,t&&(n.crossOrigin=t),n},t.prototype.shouldRemoveWhenLoaded=function(){return!1},t.prototype.getContainerElement=function(){return this.headEl},t}(_)),w=function(e){this.appShell=e},E=function(r){function e(e){var t=r.call(this,e)||this,n=e.options.gaId;return window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",n),t.gaResource={url:"https://www.googletagmanager.com/gtag/js?id="+n,backupUrl:""},t}return o(e,r),e.prototype.apply=function(){return s(this,void 0,void 0,function(){var n,r,i,o,s;return h(this,function(e){var t;return r=(n=this).appShell,i=n.gaResource,o=r.options,t=o,(s=JSON.parse(JSON.stringify(t))).crossOrigin="",y.loadWithRetry(i,s),[2,Promise.resolve()]})})},e.prototype.exportGlobal=function(){return{key:"Gtag",value:window.gtag}},e}(w),S=n(function(e,t){function a(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function i(r,i){var o=[],s=[];return null==i&&(i=function(e,t){return o[0]===t?"[Circular ~]":"[Circular ~."+s.slice(0,a(o,t)).join(".")+"]"}),function(e,t){if(0<o.length){var n=a(o,this);~n?o.splice(n+1):o.push(this),~n?s.splice(n,1/0,e):s.push(e),~a(o,t)&&(t=i.call(this,e,t))}else o.push(t);return null==r?t instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(t):t:r.call(this,e,t)}}(e.exports=function(e,t,n,r){return JSON.stringify(e,i(t,r),n)}).getSerialize=i}),k=(S.getSerialize,"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{});function O(e){return void 0===e}function x(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e){return"[object String]"===Object.prototype.toString.call(e)}function R(e){return"[object Array]"===Object.prototype.toString.call(e)}function T(){if(!("fetch"in k))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function I(e,t){var n,r;if(O(e.length))for(n in e)P(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function j(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){for(var t,n=[],r=0,i=e.length;r<i;r++)C(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function D(e){var t,n,r,i,o,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&C(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var a=["type","name","title","alt"];for(o=0;o<a.length;o++)r=a[o],(i=e.getAttribute(r))&&s.push("["+r+'="'+i+'"]');return s.join("")}function M(e,t){return!!(!!e^!!t)}function z(e,t){if(M(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(n=i[s],r=o[s],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var A=3,q=51200;function U(e){return t=JSON.stringify(e),~-encodeURI(t).split(/%..|./).length;var t}function F(e){if("string"==typeof e){return j(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}var N={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:O,isFunction:function(e){return"function"==typeof e},isPlainObject:x,isString:C,isArray:R,isEmptyObject:function(e){if(!x(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:T,supportsReferrerPolicy:function(){if(!T())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(r){return function(e,t){var n=r(e)||e;return t&&t(n)||n}},each:I,objectMerge:function(n,e){return e&&I(e,function(e,t){n[e]=t}),n},truncate:j,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:P,joinRegExp:L,urlencode:function(e){var n=[];return I(e,function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&")},uuid4:function(){var e=k.crypto||k.msCrypto;if(O(e)||!e.getRandomValues)return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0,o=" > ".length;e&&r++<5&&!("html"===(t=D(e))||1<r&&80<=i+n.length*o+t.length);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:D,isSameException:function(e,t){return!M(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!O(n)||!O(r))&&z(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:z,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!R(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,r){if(!x(t))return t;r="number"!=typeof(n="number"!=typeof n?A:n)?q:r;var i=function n(r,i){return 0===i?F(r):x(r)?Object.keys(r).reduce(function(e,t){return e[t]=n(r[t],i-1),e},{}):Array.isArray(r)?r.map(function(e){return n(e,i-1)}):F(r)}(t,n);return U(S(i))>r?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;0<n;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"…"}return""},sanitize:function(t,e){if(!R(e)||R(e)&&0===e.length)return t;var n,i=L(e),o="********";try{n=JSON.parse(S(t))}catch(e){return t}return function n(r){return R(r)?r.map(function(e){return n(e)}):x(r)?Object.keys(r).reduce(function(e,t){return i.test(t)?e[t]=o:e[t]=n(r[t]),e},{}):r}(n)}},H={collectWindowErrors:!0,debug:!1},B="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},W=[].slice,K=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function V(){return"undefined"==typeof document||null==document.location?"":document.location.href}H.report=function(){var l,t,i=[],o=null,s=null,h=null;function f(e,t){var n=null;if(!t||H.collectWindowErrors){for(var r in i)if(i.hasOwnProperty(r))try{i[r].apply(null,[e].concat(W.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function n(e,t,n,r,i){var o=N.isErrorEvent(i)?i.error:i,s=N.isErrorEvent(e)?e.message:e;if(h)H.computeStackTrace.augmentStackTraceWithInitialElement(h,t,n,s),d();else if(o&&N.isError(o))f(H.computeStackTrace(o),!0);else{var a,c={url:t,line:n,column:r},u=void 0;if("[object String]"==={}.toString.call(s))(a=s.match(K))&&(u=a[1],s=a[2]);c.func="?",f({name:u,message:s,url:V(),stack:[c]},!0)}return!!l&&l.apply(this,arguments)}function d(){var e=h,t=o;f.apply(s=h=o=null,[e,!1].concat(t))}function e(e,t){var n=W.call(arguments,1);if(h){if(s===e)return;d()}var r=H.computeStackTrace(e);if(h=r,s=e,o=n,setTimeout(function(){s===e&&d()},r.incomplete?2e3:0),!1!==t)throw e}return e.subscribe=function(e){t||(l=B.onerror,B.onerror=n,t=!0),i.push(e)},e.unsubscribe=function(e){for(var t=i.length-1;0<=t;--t)i[t]===e&&i.splice(t,1)},e.uninstall=function(){t&&(B.onerror=l,t=!1,l=void 0),i=[]},e}(),H.computeStackTrace=function(){function r(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=e.stack.split("\n"),l=[],h=(/^(.*) is undefined$/.exec(e.message),0),f=u.length;h<f;++h){if(n=i.exec(u[h])){var d=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:d?null:n[2],func:n[1]||"?",args:d?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(u[h]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(u[h])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=a.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||void 0===e.columnNumber||(l[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func="?"),r.url&&"blob:"===r.url.substr(0,5)){var p=new XMLHttpRequest;if(p.open("GET",r.url,!1),p.send(null),200===p.status){var g=p.responseText||"",v=(g=g.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var m=v[1];"~"===m.charAt(0)&&(m=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+m.slice(1)),r.url=m.slice(0,-4)}}}l.push(r)}return l.length?{name:e.name,message:e.message,url:V(),stack:l}:null}}function l(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func="?"),0<e.stack.length&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0}return!(e.incomplete=!0)}function h(e,t){for(var n,r,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],s={},a=!1,c=h.caller;c&&!a;c=c.caller)if(c!==f&&c!==H.report){if(r={url:null,func:"?",line:null,column:null},c.name?r.func=c.name:(n=i.exec(c.toString()))&&(r.func=n[1]),void 0===r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}s[""+c]?a=!0:s[""+c]=!0,o.push(r)}t&&o.splice(0,t);var u={name:e.name,message:e.message,url:V(),stack:o};return l(u,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),u}function f(e,t){var n=null;t=null==t?0:+t;try{if(n=r(e))return n}catch(e){if(H.debug)throw e}try{if(n=h(e,t+1))return n}catch(e){if(H.debug)throw e}return{name:e.name,message:e.message,url:V()}}return f.augmentStackTraceWithInitialElement=l,f.computeStackTraceFromStackProp=r,f}();var J=H;function X(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function G(e,t,n,r,i,o){return X((s=X(X(t,e),X(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function $(e,t,n,r,i,o,s){return G(t&n|~t&r,e,t,i,o,s)}function Q(e,t,n,r,i,o,s){return G(t&r|n&~r,e,t,i,o,s)}function Y(e,t,n,r,i,o,s){return G(t^n^r,e,t,i,o,s)}function Z(e,t,n,r,i,o,s){return G(n^(t|~r),e,t,i,o,s)}function ee(e,t){var n,r,i,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)c=Z(c=Z(c=Z(c=Z(c=Y(c=Y(c=Y(c=Y(c=Q(c=Q(c=Q(c=Q(c=$(c=$(c=$(c=$(i=c,u=$(o=u,l=$(s=l,a=$(r=a,c,u,l,e[n],7,-680876936),c,u,e[n+1],12,-389564586),a,c,e[n+2],17,606105819),l,a,e[n+3],22,-1044525330),u=$(u,l=$(l,a=$(a,c,u,l,e[n+4],7,-176418897),c,u,e[n+5],12,1200080426),a,c,e[n+6],17,-1473231341),l,a,e[n+7],22,-45705983),u=$(u,l=$(l,a=$(a,c,u,l,e[n+8],7,1770035416),c,u,e[n+9],12,-1958414417),a,c,e[n+10],17,-42063),l,a,e[n+11],22,-1990404162),u=$(u,l=$(l,a=$(a,c,u,l,e[n+12],7,1804603682),c,u,e[n+13],12,-40341101),a,c,e[n+14],17,-1502002290),l,a,e[n+15],22,1236535329),u=Q(u,l=Q(l,a=Q(a,c,u,l,e[n+1],5,-165796510),c,u,e[n+6],9,-1069501632),a,c,e[n+11],14,643717713),l,a,e[n],20,-373897302),u=Q(u,l=Q(l,a=Q(a,c,u,l,e[n+5],5,-701558691),c,u,e[n+10],9,38016083),a,c,e[n+15],14,-660478335),l,a,e[n+4],20,-405537848),u=Q(u,l=Q(l,a=Q(a,c,u,l,e[n+9],5,568446438),c,u,e[n+14],9,-1019803690),a,c,e[n+3],14,-187363961),l,a,e[n+8],20,1163531501),u=Q(u,l=Q(l,a=Q(a,c,u,l,e[n+13],5,-1444681467),c,u,e[n+2],9,-51403784),a,c,e[n+7],14,1735328473),l,a,e[n+12],20,-1926607734),u=Y(u,l=Y(l,a=Y(a,c,u,l,e[n+5],4,-378558),c,u,e[n+8],11,-2022574463),a,c,e[n+11],16,1839030562),l,a,e[n+14],23,-35309556),u=Y(u,l=Y(l,a=Y(a,c,u,l,e[n+1],4,-1530992060),c,u,e[n+4],11,1272893353),a,c,e[n+7],16,-155497632),l,a,e[n+10],23,-1094730640),u=Y(u,l=Y(l,a=Y(a,c,u,l,e[n+13],4,681279174),c,u,e[n],11,-358537222),a,c,e[n+3],16,-722521979),l,a,e[n+6],23,76029189),u=Y(u,l=Y(l,a=Y(a,c,u,l,e[n+9],4,-640364487),c,u,e[n+12],11,-421815835),a,c,e[n+15],16,530742520),l,a,e[n+2],23,-995338651),u=Z(u,l=Z(l,a=Z(a,c,u,l,e[n],6,-198630844),c,u,e[n+7],10,1126891415),a,c,e[n+14],15,-1416354905),l,a,e[n+5],21,-57434055),u=Z(u,l=Z(l,a=Z(a,c,u,l,e[n+12],6,1700485571),c,u,e[n+3],10,-1894986606),a,c,e[n+10],15,-1051523),l,a,e[n+1],21,-2054922799),u=Z(u,l=Z(l,a=Z(a,c,u,l,e[n+8],6,1873313359),c,u,e[n+15],10,-30611744),a,c,e[n+6],15,-1560198380),l,a,e[n+13],21,1309151649),u=Z(u,l=Z(l,a=Z(a,c,u,l,e[n+4],6,-145523070),c,u,e[n+11],10,-1120210379),a,c,e[n+2],15,718787259),l,a,e[n+9],21,-343485551),a=X(a,r),c=X(c,i),u=X(u,o),l=X(l,s);return[a,c,u,l]}function te(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function ne(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function re(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function ie(e){return unescape(encodeURIComponent(e))}function oe(e){return te(ee(ne(t=ie(e)),8*t.length));var t}function se(e,t){return function(e,t){var n,r,i=ne(e),o=[],s=[];for(o[15]=s[15]=void 0,16<i.length&&(i=ee(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=ee(o.concat(ne(t)),512+8*t.length),te(ee(s.concat(r),640))}(ie(e),ie(t))}var ae=function(e,t,n){return t?n?se(t,e):re(se(t,e)):n?oe(e):re(oe(e))};function ce(e){this.name="RavenConfigError",this.message=e}var ue=(ce.prototype=new Error).constructor=ce,le=function(e,r,i){var o=e[r],s=e;if(r in e){var a="warn"===r?"warning":r;e[r]=function(){var e=[].slice.call(arguments),t=N.safeJoin(e," "),n={level:a,logger:"console",extra:{arguments:e}};"assert"===r?!1===e[0]&&(t="Assertion failed: "+(N.safeJoin(e.slice(1)," ")||"console.assert"),n.extra.arguments=e.slice(1),i&&i(t,n)):i&&i(t,n),o&&Function.prototype.apply.call(o,s,e)}}},he=N.isErrorEvent,fe=N.isDOMError,de=N.isDOMException,pe=N.isError,ge=N.isObject,ve=N.isPlainObject,me=N.isUndefined,_e=N.isFunction,ye=N.isString,be=N.isArray,we=N.isEmptyObject,Ee=N.each,Se=N.objectMerge,ke=N.truncate,Oe=N.objectFrozen,xe=N.hasKey,Ce=N.joinRegExp,Re=N.urlencode,Te=N.uuid4,Ie=N.htmlTreeAsString,je=N.isSameException,Pe=N.isSameStacktrace,Le=N.parseUrl,De=N.fill,Me=N.supportsFetch,ze=N.supportsReferrerPolicy,Ae=N.serializeKeysForMessage,qe=N.serializeException,Ue=N.sanitize,Fe=le,Ne="source protocol user pass host port path".split(" "),He=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function Be(){return+new Date}var We="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},Ke=We.document,Ve=We.navigator;function Je(t,n){return _e(n)?function(e){return n(e,t)}:n}function Xe(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!me(Ke),this._hasNavigator=!me(Ve),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:We.SENTRY_RELEASE&&We.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:ze()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=We.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=Be(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=We.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}(Xe.prototype={VERSION:"3.27.0",debug:!1,TraceKit:J,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&Ee(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=Ce(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&Ce(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&Ce(r.whitelistUrls),r.includePaths=Ce(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=Se(i,o):!1!==o&&(o=i),r.autoBreadcrumbs=o;var s={tryCatch:!0},a=r.instrument;return"[object Object]"==={}.toString.call(a)?a=Se(s,a):!1!==a&&(a=s),r.instrument=a,J.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(J.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return _e(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(r,i,o){var s=this;if(me(i)&&!_e(r))return r;if(_e(r)&&(i=r,r=void 0),!_e(i))return i;try{if(i.__raven__)return i;if(i.__raven_wrapper__)return i.__raven_wrapper__}catch(e){return i}function e(){var e=[],t=arguments.length,n=!r||r&&!1!==r.deep;for(o&&_e(o)&&o.apply(this,arguments);t--;)e[t]=n?s.wrap(r,arguments[t]):arguments[t];try{return i.apply(this,e)}catch(e){throw s._ignoreNextOnError(),s.captureException(e,r),e}}for(var t in i)xe(i,t)&&(e[t]=i[t]);return e.prototype=i.prototype,(i.__raven_wrapper__=e).__raven__=!0,e.__orig__=i,e},uninstall:function(){return J.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),We.addEventListener&&We.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return We.removeEventListener&&We.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=Se({trimHeadFrames:0},e||{}),he(t)&&t.error)t=t.error;else{if(fe(t)||de(t)){var n=t.name||(fe(t)?"DOMError":"DOMException"),r=t.message?n+": "+t.message:n;return this.captureMessage(r,Se(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(pe(t))t=t;else{if(!ve(t))return this.captureMessage(t,Se(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=J.computeStackTrace(t);this._handleStackInfo(i,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=Se(e,{message:"Non-Error exception captured with keys: "+Ae(n),fingerprint:[ae(n)],extra:e.extra||{}});return r.extra.__serialized__=qe(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,r=Se({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=J.computeStackTrace(n),o=be(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var s=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?e:r.fingerprint,(t=Se({trimHeadFrames:0},t)).trimHeadFrames+=1;var a=this._prepareFrames(i,t);r.stacktrace={frames:a.reverse()}}return r.fingerprint&&(r.fingerprint=be(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(e){var t=Se({timestamp:Be()/1e3},e);if(_e(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(ge(n)&&!we(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(S(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=Je(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=Je(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=Je(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=We.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(Ke){if(!(e=Se({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new ue("Missing eventId");if(!e.dsn)throw new ue("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this._getGlobalServer(this._parseDSN(e.dsn)),s=Ke.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(Ke.head||Ke.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),Ke.createEvent?(n=Ke.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=Ke.createEventObject()).eventType=e,t)xe(t,r)&&(n[r]=t[r]);if(Ke.createEvent)Ke.dispatchEvent(n);else try{Ke.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(n){var r=this;return function(e){if(r._keypressTimeout=null,r._lastCapturedEvent!==e){var t;r._lastCapturedEvent=e;try{t=Ie(e.target)}catch(e){t="<unknown>"}r.captureBreadcrumb({category:"ui."+n,message:t})}}},_keypressEventHandler:function(){var i=this;return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)){var r=i._keypressTimeout;r||i._breadcrumbEventHandler("input")(e),clearTimeout(r),i._keypressTimeout=setTimeout(function(){i._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=Le(this._location.href),r=Le(t),i=Le(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var u=this,t=u._wrappedBuiltIns;function e(o){return function(e,t){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i=n[0];return _e(i)&&(n[0]=u.wrap({mechanism:{type:"instrument",data:{function:o.name||"<anonymous>"}}},i)),o.apply?o.apply(this,n):o(n[0],n[1])}}var l=this._globalOptions.autoBreadcrumbs;function n(c){var e=We[c]&&We[c].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(De(e,"addEventListener",function(a){return function(e,t,n,r){try{t&&t.handleEvent&&(t.handleEvent=u.wrap({mechanism:{type:"instrument",data:{target:c,function:"handleEvent",handler:t&&t.name||"<anonymous>"}}},t.handleEvent))}catch(e){}var i,o,s;return l&&l.dom&&("EventTarget"===c||"Node"===c)&&(o=u._breadcrumbEventHandler("click"),s=u._keypressEventHandler(),i=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?o(e):"keypress"===t?s(e):void 0}}),a.call(this,e,u.wrap({mechanism:{type:"instrument",data:{target:c,function:"addEventListener",handler:t&&t.name||"<anonymous>"}}},t,i),n,r)}},t),De(e,"removeEventListener",function(i){return function(e,t,n,r){try{t=t&&(t.__raven_wrapper__?t.__raven_wrapper__:t)}catch(e){}return i.call(this,e,t,n,r)}},t))}De(We,"setTimeout",e,t),De(We,"setInterval",e,t),We.requestAnimationFrame&&De(We,"requestAnimationFrame",function(t){return function(e){return t(u.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},e))}},t);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<r.length;i++)n(r[i])},_instrumentBreadcrumbs:function(){var a=this,e=this._globalOptions.autoBreadcrumbs,t=a._wrappedBuiltIns;function o(t,e){t in e&&_e(e[t])&&De(e,t,function(e){return a.wrap({mechanism:{type:"instrument",data:{function:t,handler:e&&e.name||"<anonymous>"}}},e)})}if(e.xhr&&"XMLHttpRequest"in We){var n=We.XMLHttpRequest&&We.XMLHttpRequest.prototype;De(n,"open",function(n){return function(e,t){return ye(t)&&-1===t.indexOf(a._globalKey)&&(this.__raven_xhr={method:e,url:t,status_code:null}),n.apply(this,arguments)}},t),De(n,"send",function(i){return function(){var e=this;function t(){if(e.__raven_xhr&&4===e.readyState){try{e.__raven_xhr.status_code=e.status}catch(e){}a.captureBreadcrumb({type:"http",category:"xhr",data:e.__raven_xhr})}}for(var n=["onload","onerror","onprogress"],r=0;r<n.length;r++)o(n[r],e);return"onreadystatechange"in e&&_e(e.onreadystatechange)?De(e,"onreadystatechange",function(e){return a.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,t)}):e.onreadystatechange=t,i.apply(this,arguments)}},t)}e.xhr&&Me()&&De(We,"fetch",function(s){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n,r=e[0],i="GET";if("string"==typeof r?n=r:"Request"in We&&r instanceof We.Request?(n=r.url,r.method&&(i=r.method)):n=""+r,-1!==n.indexOf(a._globalKey))return s.apply(this,e);e[1]&&e[1].method&&(i=e[1].method);var o={method:i,url:n,status_code:null};return s.apply(this,e).then(function(e){return o.status_code=e.status,a.captureBreadcrumb({type:"http",category:"fetch",data:o}),e}).catch(function(e){throw a.captureBreadcrumb({type:"http",category:"fetch",data:o,level:"error"}),e})}},t),e.dom&&this._hasDocument&&(Ke.addEventListener?(Ke.addEventListener("click",a._breadcrumbEventHandler("click"),!1),Ke.addEventListener("keypress",a._keypressEventHandler(),!1)):Ke.attachEvent&&(Ke.attachEvent("onclick",a._breadcrumbEventHandler("click")),Ke.attachEvent("onkeypress",a._keypressEventHandler())));var r=We.chrome,i=!(r&&r.app&&r.app.runtime)&&We.history&&We.history.pushState&&We.history.replaceState;if(e.location&&i){var s=We.onpopstate;We.onpopstate=function(){var e=a._location.href;if(a._captureUrlChange(a._lastHref,e),s)return s.apply(this,arguments)};var c=function(t){return function(){var e=2<arguments.length?arguments[2]:void 0;return e&&a._captureUrlChange(a._lastHref,e+""),t.apply(this,arguments)}};De(We.history,"pushState",c,t),De(We.history,"replaceState",c,t)}if(e.console&&"console"in We&&console.log){var u=function(e,t){a.captureBreadcrumb({message:e,level:t.level,category:"console"})};Ee(["debug","info","warn","error","log"],function(e,t){Fe(console,t,u)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var i=this;Ee(this._plugins,function(e,t){var n=t[0],r=t[1];n.apply(i,[i].concat(r))})},_parseDSN:function(t){var e=He.exec(t),n={},r=7;try{for(;r--;)n[Ne[r]]=e[r]||""}catch(e){throw new ue("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new ue("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(r,e){var i=this,o=[];if(r.stack&&r.stack.length&&(Ee(r.stack,function(e,t){var n=i._normalizeFrame(t,r.url);n&&o.push(n)}),e&&e.trimHeadFrames))for(var t=0;t<e.trimHeadFrames&&t<o.length;t++)o[t].in_app=!1;return o=o.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var s,a=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(a))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),s={frames:i}):n&&(s={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=Se({exception:{values:[{type:e,value:t,stacktrace:s}]},transaction:n},o),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=Se({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=ke(e.message,t)),e.exception){var n=e.exception.values[0];n.value=ke(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=ke(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=ke(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&ge(n.data)&&!Oe(n.data)){r=Se({},n.data);for(var s=0;s<i.length;++s)t=i[s],r.hasOwnProperty(t)&&r[t]&&(r[t]=ke(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&Ve.userAgent&&(e.headers={"User-Agent":Ve.userAgent}),We.location&&We.location.href&&(e.url=We.location.href),this._hasDocument&&Ke.referrer&&(e.headers||(e.headers={}),e.headers.Referer=Ke.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&Be()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?Pe(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||je(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=Me()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=Be()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=Se(n,t)).tags=Se(Se({},this._globalContext.tags),t.tags),t.extra=Se(Se({},this._globalContext.extra),t.extra),t.extra["session:duration"]=Be()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||we(t[e]))&&delete t[e]}),_e(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!we(t)&&(_e(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(e){return Ue(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return Te()},_sendProcessedPayload:function(t,n){var r=this,e=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var s=this._globalEndpoint;(e.transport||this._makeRequest).call(this,{url:s,auth:i,data:t,options:e,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:t,src:s}),n&&n()},onError:function(e){r._logDebug("error","Raven transport failed to send: ",e),e.request&&r._setBackoffState(e.request),r._triggerEvent("failure",{data:t,src:s}),e=e||new Error("Raven send failed (no additional details provided)"),n&&n(e)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(n){var e=n.url+"?"+Re(n.auth),t=null,r={};if(n.options.headers&&(t=this._evaluateHash(n.options.headers)),n.options.fetchParameters&&(r=this._evaluateHash(n.options.fetchParameters)),Me()){r.body=S(n.data);var i=Se({},this._fetchDefaults),o=Se(i,r);return t&&(o.headers=t),We.fetch(e,o).then(function(e){if(e.ok)n.onSuccess&&n.onSuccess();else{var t=new Error("Sentry error code: "+e.status);t.request=e,n.onError&&n.onError(t)}}).catch(function(){n.onError&&n.onError(new Error("Sentry error code: network unavailable"))})}var s=We.XMLHttpRequest&&new We.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)n.onSuccess&&n.onSuccess();else if(n.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,n.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),n.onSuccess&&(s.onload=n.onSuccess),n.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,n.onError(e)})),s.open("POST",e),t&&Ee(t,function(e,t){s.setRequestHeader(e,t)}),s.send(S(n.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){me(t)?delete this._globalContext[e]:this._globalContext[e]=Se(this._globalContext[e]||{},t)}}).setUser=Xe.prototype.setUserContext,Xe.prototype.setReleaseContext=Xe.prototype.setRelease;var Ge=Xe,$e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},Qe=$e.Raven,Ye=new Ge;Ye.noConflict=function(){return $e.Raven=Qe,Ye},Ye.afterLoad();var Ze=Ye,et=Ge;Ze.Client=et;var tt,nt,rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.apply=function(){return s(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){return t=this.appShell.options,n=t.appVersion,r=t.sentryDsn,[2,Promise.resolve().then(function(){Ze.config(r,{release:n}).install()})]})})},t.prototype.exportGlobal=function(){return{key:"Raven",value:Ze}},t}(w),it=function(n){function e(e){var t=n.call(this,e)||this;return t.slardarResource={url:"//s3.pstatp.com/toutiao/monitor/sdk/slardar.js",backupUrl:"//s1.pstatp.com/toutiao/monitor/sdk/slardar.js"},t}return o(e,n),e.prototype.apply=function(){return s(this,void 0,void 0,function(){var t,n,r,i,o;return h(this,function(e){return n=(t=this).appShell,r=t.slardarResource,i=n.options,o=i.slardar,[2,y.loadWithRetry(r,i).then(function(e){if(""!==e.successUrl){var t=window.Slardar;t&&t.install(o)}else g("加载 Slardar 插件失败")})]})})},e.prototype.exportGlobal=function(){return{key:"Slardar",value:window.Slardar}},e}(w);(nt=tt||(tt={})).Loading="loading",nt.Loaded="loaded",nt.Error="notify";var ot=new(function(){function e(){this.version="1.9.3",this.emitter=new a,this.options={appName:"",appVersion:"1.0.0",crossOrigin:"",gaId:"",resources:{styles:[],scripts:[]},retry:2,sentryDsn:"",slardar:null,teaAppId:1655,teaChannel:"cn",timeout:1e4},this.plugins=[]}return e.prototype.config=function(c){return s(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return h(this,function(e){switch(e.label){case 0:if(this.options=Object.assign(this.options,c),t=this.options,n=t.appName,r=t.resources,i=t.sentryDsn,o=t.slardar,s=t.gaId,""===n)throw a="必需指定 appName 参数",this.emitError({extra:{},msg:a,title:"参数缺失"}),new Error(a);return null!==o&&this.use(it),""!==i&&this.use(rt),""!==s&&this.use(E),[4,this.applyPlugins()];case 1:return e.sent(),this.load(r),[2]}})})},e.prototype.load=function(i){return s(this,void 0,void 0,function(){var t,n,r,u=this;return h(this,function(e){return""===this.options.appName||(t=this.formatResources(i),n=t.scripts,r=t.styles,this.emitter.emit(tt.Loading),Promise.all([b.loadResources(r,this.options),y.loadResources(n,this.options)]).then(function(e){for(var t=e[0],n=e[1],r=null,i=!0,o=0;o<t.length;o+=1)if(""===t[o].successUrl){i=!1,r=t[o];break}for(o=0;o<n.length&&i;o+=1)if(""===n[o].successUrl){i=!1,r=n[o];break}if(i)u.emitter.emit(tt.Loaded),u.execAppMain(),u.registerGlobalErrorHandler();else{var s=r.url,a=r.realRetry,c=r.nativeEvent;u.emitError({extra:r,msg:"尝试"+a+"次，加载资源 "+s+" 失败。\n详细错误："+c,title:"资源加载失败"})}})),[2]})})},e.prototype.prefetch=function(e){d.prefetch(e)},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.start=function(e){this.appMain=e},e.prototype.use=function(e){this.plugins.push(e)},e.prototype.applyPlugins=function(){return s(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return h(this,function(e){switch(e.label){case 0:t=0,n=this.plugins,e.label=1;case 1:return t<n.length?(r=n[t],[4,(i=new r(this)).apply()]):[3,4];case 2:e.sent(),o=i.exportGlobal(),s=o.key,a=o.value,this[s]=a,e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.execAppMain=function(){if("function"!=typeof this.appMain)return null;try{this.emitter.emit("StartMain"),this.appMain()}catch(e){this.emitError({extra:e,msg:e.stack,title:"应用执行出错"})}},e.prototype.formatResources=function(e){return p(e.styles)&&(e.styles=[]),p(e.scripts)&&(e.scripts=[]),e},e.prototype.registerGlobalErrorHandler=function(){var t=this;window.addEventListener("error",function(e){e.stopImmediatePropagation(),t.Raven?t.Raven.captureException(e):console.error(e)})},e.prototype.emitError=function(e){this.emitter.emit(tt.Error,e)},e}());new(function(){function e(){var t=this;this.handleStateError=function(e){t.displayError(e),t.showElement(t.errorEl),t.hideElement(t.loadingEl)},this.handleStateLoaded=function(){t.hideElement(t.errorEl),t.showElement(t.loadedEl),t.hideElement(t.loadingEl)},this.handleStateLoading=function(){t.hideElement(t.errorEl),t.hideElement(t.loadedEl),t.showElement(t.loadingEl)},this.showElement=function(e){null!==e&&e.classList.remove("app-shell-hide")},this.hideElement=function(e){null!==e&&e.classList.add("app-shell-hide")},this.displayError=function(e){null!==t.errorTitleEl&&(t.errorTitleEl.innerText=e.title),null!==t.errorSubtitleEl&&(t.errorSubtitleEl.innerText=e.msg)},this.bindClickListener=function(e,t){var n=document.querySelector(e);null!==n&&n.addEventListener("click",t)},this.handleCloseNotify=function(){null!==t.errorEl&&(t.errorEl.classList.add("app-shell-notify-fade-out"),setTimeout(function(){return t.hideElement(t.errorEl)},500))};var e="app-shell",n=tt.Error,r=tt.Loaded,i=tt.Loading;this.errorEl=document.querySelector("."+e+"-"+n),this.loadedEl=document.querySelector("."+e+"-"+r),this.loadingEl=document.querySelector("."+e+"-"+i),this.errorTitleEl=document.querySelector("."+e+"-"+n+"-title"),this.errorSubtitleEl=document.querySelector("."+e+"-"+n+"-desc"),ot.on(n,this.handleStateError),ot.on(r,this.handleStateLoaded),ot.on(i,this.handleStateLoading),this.bindClickListener("."+e+"-notify-close",this.handleCloseNotify),this.bindClickListener("."+e+"-notify-reload",this.handleReload),this.bindClickListener("."+e+"-notify-contact",this.handleContact)}return e.prototype.handleReload=function(){window.location.reload()},e.prototype.handleContact=function(){var e,t,n=document.querySelector(".app-shell-notify-contact").dataset.mailto,r="【App Shell Feedback】"+document.querySelector(".app-shell-notify-title").textContent,i=document.querySelector(".app-shell-notify-desc").textContent;e="mailto:"+n+"?subject="+r+"&body="+i,(t=null)===(t=document.getElementById(v))?((t=document.createElement("iframe")).id=v,t.width="0",t.height="0",t.frameBorder="0"):document.body.removeChild(t),t.src=e,document.body.appendChild(t)},e}());function st(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""}function at(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,at)}var ct,ut,lt,ht,ft,dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt=void 0,gt=function e(){var C=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.set=function(e,t){var n=e,r=t;if(null===r)return!1;var i="";if(-1<n.indexOf(".")){var o=n.split(".");i=o[0],n=o[1]}"os_version"===n&&(r=""+r),i?"user"===i||"header"===i?C.envInfo[i][n]=r:"headers"===i?C.envInfo.header.headers[n]=r:C.envInfo.header.headers.custom[n]=r:C.envInfo.user.hasOwnProperty(n)?-1<["user_type","device_id","ip_addr_id"].indexOf(n)?C.envInfo.user[n]=Number(r):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(n)?C.envInfo.user[n]=String(r):-1<["user_is_auth","user_is_login"].indexOf(n)&&(C.envInfo.user[n]=Boolean(r)):C.envInfo.header.hasOwnProperty(n)?C.envInfo.header[n]=r:C.envInfo.header.headers.hasOwnProperty(n)?C.envInfo.header.headers[n]=r:C.envInfo.header.headers.custom[n]=r},this.get=function(){var e={user:{},header:{headers:{custom:{}}}},t=C.envInfo,n=t.user,r=Object.keys(n),i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a=s;n[a]!==pt&&(e.user[a]=n[a])}var c=t.header,u=Object.keys(c),l=Array.isArray(u),h=0;for(u=l?u:u[Symbol.iterator]();;){var f;if(l){if(h>=u.length)break;f=u[h++]}else{if((h=u.next()).done)break;f=h.value}var d=f;c[d]!==pt&&"headers"!==d&&(e.header[d]=c[d])}var p=t.header.headers,g=Object.keys(p),v=Array.isArray(g),m=0;for(g=v?g:g[Symbol.iterator]();;){var _;if(v){if(m>=g.length)break;_=g[m++]}else{if((m=g.next()).done)break;_=m.value}var y=_;"custom"!==y&&p[y]!==pt&&(e.header.headers[y]=p[y])}var b=t.header.headers.custom,w=Object.keys(b);if(w.length){var E=w,S=Array.isArray(E),k=0;for(E=S?E:E[Symbol.iterator]();;){var O;if(S){if(k>=E.length)break;O=E[k++]}else{if((k=E.next()).done)break;O=k.value}var x=O;e.header.headers.custom[x]=b[x]}}return{user:e.user,header:dt({},e.header,{headers:e.header.headers})}},this.envInfo={user:{user_unique_id:pt,user_type:pt,user_id:pt,user_is_auth:pt,user_is_login:pt,device_id:pt,web_id:pt,ip_addr_id:pt,ssid:pt},header:{app_id:pt,app_name:pt,app_install_id:pt,app_package:pt,app_channel:pt,app_version:pt,os_name:pt,os_version:pt,device_model:pt,ab_client:pt,ab_version:pt,traffic_type:pt,utm_source:pt,utm_medium:pt,utm_campaign:pt,client_ip:pt,device_brand:pt,os_api:pt,access:pt,language:pt,region:pt,app_language:pt,app_region:pt,creative_id:pt,ad_id:pt,campaign_id:pt,log_type:pt,rnd:pt,platform:pt,sdk_version:pt,province:pt,city:pt,timezone:pt,tz_offset:pt,tz_name:pt,sim_region:pt,carrier:pt,resolution:pt,browser:pt,browser_version:pt,referrer:pt,referrer_host:pt,headers:{utm_term:pt,utm_content:pt,custom:{}}}}},vt=function(e){var t=document.createElement("a");return t.href=e,t},mt=screen.width||0,_t=screen.height||0,yt=mt+" x "+_t,bt=navigator.appVersion,wt=navigator.userAgent,Et=navigator.language,St=document.referrer,kt=vt(St).hostname,Ot=(ct=location.href,ut=vt(ct).search,lt={},(ut=ut.slice(1)).split("&").forEach(function(e){var t=e.split("="),n=t[0],r=t[1];lt[n]=decodeURIComponent(void 0===r?"":r)}),lt),xt="",Ct="",Rt="",Tt=""+parseFloat(bt),It=void 0,jt=void 0;-1!==(It=wt.indexOf("Opera"))&&(Rt="Opera",Tt=wt.substring(It+6),-1!==(It=wt.indexOf("Version"))&&(Tt=wt.substring(It+8))),-1!==(It=wt.indexOf("Edge"))?(Rt="Microsoft Edge",Tt=wt.substring(It+5)):-1!==(It=wt.indexOf("MSIE"))?(Rt="Microsoft Internet Explorer",Tt=wt.substring(It+5)):-1!==(It=wt.indexOf("Chrome"))?(Rt="Chrome",Tt=wt.substring(It+7)):-1!==(It=wt.indexOf("Safari"))?(Rt="Safari",Tt=wt.substring(It+7),-1!==(It=wt.indexOf("Version"))&&(Tt=wt.substring(It+8))):-1!==(It=wt.indexOf("Firefox"))&&(Rt="Firefox",Tt=wt.substring(It+8)),-1!==(jt=Tt.indexOf(";"))&&(Tt=Tt.substring(0,jt)),-1!==(jt=Tt.indexOf(" "))&&(Tt=Tt.substring(0,jt)),-1!==(jt=Tt.indexOf(")"))&&(Tt=Tt.substring(0,jt));for(var Pt=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(bt)?"wap":"web",Lt=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],Dt=0;Dt<Lt.length;Dt++){var Mt=Lt[Dt];if(Mt.r.test(wt)){xt=Mt.s;break}}switch(/Windows/.test(xt)&&(Ct=st(/Windows (.*)/,xt),xt="windows"),xt){case"Mac OS X":Ct=st(/Mac OS X (10[\.\_\d]+)/,wt),xt="mac";break;case"Android":(ft=st(/Android ([\.\_\d]+)/,ht=wt))||(ft=st(/Android\/([\.\_\d]+)/,ht)),Ct=ft,xt="android";break;case"iOS":Ct=(Ct=/OS (\d+)_(\d+)_?(\d+)?/.exec(bt))?Ct[1]+"."+Ct[2]+"."+(0|Ct[3]):"",xt="ios"}var zt={screen_size:yt,browser:Rt,browser_version:Tt,platform:Pt,os_name:xt,os_version:Ct,userAgent:wt,screen_width:mt,screen_height:_t,device_model:xt,language:Et,referrer:St,referrer_host:kt,utm_source:Ot.utm_source,utm_medium:Ot.utm_medium,utm_campaign:Ot.utm_campaign,utm_term:Ot.utm_term,utm_content:Ot.utm_content},At=function e(){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.setItem=function(e,t){n.cache[e]=t},this.getItem=function(e){return n.cache[e]},this.removeItem=function(e){n.cache[e]=void 0},this.clear=function(){n.cache={}},this.cache={}};new At;var qt={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},clear:function(){try{localStorage.clear()}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_____tea-sdk-test-key","hi"),localStorage.getItem("_____tea-sdk-test-key"),localStorage.removeItem("_____tea-sdk-test-key"),!0}catch(e){return!1}}()},Ut=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=!e&&qt.isSupportLS;this._storage=t?qt:new At}return n.prototype.getItem=function(e){return this._storage.getItem(e)},n.prototype.setItem=function(e,t){this._storage.setItem(e,t)},n.prototype.removeItem=function(e){this._storage.removeItem(e)},n.prototype.clear=function(){this._storage.clear()},n}(),Ft="__tea_cache_",Nt=4001,Ht=4e3,Bt=4002,Wt=4003,Kt=500,Vt=5001,Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt=function e(){var o=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.init=function(e){o.isLog=e},this.info=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;o.isLog&&(i=console).log.apply(i,[o.prefix+e].concat(n))},this.warn=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;o.isLog&&(i=console).warn.apply(i,[o.prefix+e].concat(n))},this.error=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;o.isLog&&(i=console).error.apply(i,[o.prefix+e].concat(n))},this.dir=function(){var e;o.isLog&&(e=console).dir.apply(e,arguments)},this.table=function(e){o.isLog&&console.table(e)},this.logJSON=function(e){"object"===(void 0===e?"undefined":Jt(e))&&o.isLog&&o.info("",JSON.stringify(e,null,2))},this.deprecated=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.warn.apply(o,["[DEPRECATED]"+e].concat(n))},this.throw=function(e){throw o.error(o.prefix),new Error(e)};var n=t?"["+t+"]":"";this.prefix="[tea-sdk]"+n},Gt=new Xt,$t=function(e,t,n,r){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onload=function(){try{var e=JSON.parse(i.responseText);n&&n(e)}catch(e){r&&r()}},i.onerror=function(){r&&r()},i.send(JSON.stringify(t))},Qt=(new Date).getTimezoneOffset(),Yt=parseInt(-Qt/60,10),Zt=60*Qt,en=void 0;try{en="3.2.10"}catch(e){en="2.x"}var tn,nn=new(function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this));return e.initClientEnv=function(){e.set("os_name",zt.os_name),e.set("os_version",zt.os_version),e.set("device_model",zt.device_model),e.set("platform",zt.platform),e.set("sdk_version",en),e.set("browser",zt.browser),e.set("browser_version",zt.browser_version),e.set("language",zt.language),e.set("timezone",Yt),e.set("tz_offset",Zt),e.set("resolution",zt.screen_width+"x"+zt.screen_height),e.set("screen_width",zt.screen_width),e.set("screen_height",zt.screen_height),e.set("referrer",zt.referrer),e.set("referrer_host",zt.referrer_host),e.set("utm_source",zt.utm_source),e.set("utm_medium",zt.utm_medium),e.set("utm_campaign",zt.utm_campaign),e.set("utm_term",zt.utm_term),e.set("utm_content",zt.utm_content)},e.initClientEnv(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n}(gt)),rn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.isString=function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isNumber=function(e){return"Number"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isBoolean=function(e){return"Boolean"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isFunction=function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isNull=function(e){return"Null"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isUndefined=function(e){return"Undefined"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isObj=function(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isArray=function(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isFalse=function(e){return""===e||null==e||"null"===e||"undefined"===e||0===e||!1===e||NaN===e},e.prototype.isTrue=function(e){return!this.isFalse(e)},e.prototype.isLowIE=function(){return window.XDomainRequest},e}()),on=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof t&&"number"==typeof n){var r,i=[];n=n<=25?n:n%25;var o=String.fromCharCode(n+97);r=e.split(o);for(var s=0;s<r.length;s++){var a=parseInt(r[s],n);a=1*a^t;var c=String.fromCharCode(a);i.push(c)}return i.join("")}}(e,64,25)},sn=function(){return at().replace(/-/g,"").slice(0,19)},an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},un=function(e){try{var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return decodeURIComponent(t?t[1]:"")}catch(e){return""}},ln=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.init=function(e){var t=e.app_id,n=e.channel,r=e.log,i=e.channel_domain,o=e.name;if("number"!=typeof t)throw new Error("app_id 必须是一个数字，注意检查是否是以`string`的方式传入的？");s.logger=new Xt(o),s.logger.init(r),s.initConfigs(e),s.initUrls(n,i),s.setEnv("app_id",t)},s.initConfigs=function(e){var t=e.app_id,n=e.disable_ssid,r=e.disable_webid,i=e.disable_sdk_monitor;s.app_id=t,s.evtDataCacheKey=Ft+"events_"+t,n&&(s.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),s.isSsidDisabled=!0),r&&(s.logger.info("webid服务已禁用，ssid同时被禁用。将本地生成webid。"),s.isWebidDisabled=!0,s.isSsidDisabled=!0),i&&(s.logger.info("SDK监控已禁用。"),s.isSdkMonitorDisabled=!0)},s.initUrls=function(e,t){if("internal"===e&&(s.logger.warn("channel 的值 internal 已被废弃，已自动改为 cn。"),e="cn"),!t&&!cn[e])throw new Error("channel 变量只能是 `cn`, `sg`,`va`");var n=t||on(cn[e]);n=n.replace(/\/+$/,""),s.reportUrl=n+"/v1/list",s.userTokensPrefix=""+n},s.setEnv=function(e,t){if("app_id"===e&&s.checkUserToken(t),"user_unique_id"===e){if(s.blackUuid.some(function(e){return e===String(t)}))return void s.logger.warn('设置了无效的值 {user_unique_id："%s"}。该操作已忽略。',t);s.verifyTokens(t)}if("web_id"===e){if(!t)return;(!s.envInfo.user.user_unique_id||s.envInfo.user.user_unique_id&&s.envInfo.user.user_unique_id===s.envInfo.user.web_id)&&s.set("user_unique_id",t)}s.set(e,t)},s.transferFromCookie=function(){var e=s.tokensCacheKey,t=un("tt_webid"),n=un("__tea_sdk__ssid"),r=un("__tea_sdk__user_unique_id");if(rn.isLowIE()){if(t){var i={web_id:t,ssid:t,user_unique_id:t};s.storageClient.setItem(e,i)}return!1}if(t&&n&&r){var o={web_id:t,ssid:n,user_unique_id:r};s.storageClient.setItem(e,o)}},s.purifyBlackUuid=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(s.blackUuid.some(function(e){return e===t.user_unique_id})){var e={};return s.setUserTokens(e),s.logger.warn('检测到无效的用户标识，已重置用户状态。{user_unique_id: "%s"}',t.user_unique_id),e}return t},s.getUserTokens=function(){return s.storageClient.getItem(s.tokensCacheKey)||{}},s.setUserTokens=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s.storageClient.setItem(s.tokensCacheKey,e)},s.checkUserToken=function(e){var t=Ft+"tokens_"+e;s.tokensCacheKey=t,s.transferFromCookie();var n=s.purifyBlackUuid(s.getUserTokens());n.user_unique_id&&n.web_id?(s.envInfo.user.user_unique_id=n.user_unique_id,s.envInfo.user.web_id=n.web_id,s.envInfo.user.ssid=n.ssid||"",s.logger.info("初始化已经检测到了 webid user_unique_id，一般情况下不需要再次验证 id 了"),s.unlock()):s.requestWebId(e)},s.saveTokenToStorage=function(e){var t=e.web_id,n=e.ssid,r=e.user_unique_id;s.setUserTokens({web_id:t,ssid:n,user_unique_id:r})},s.requestWebId=function(){s.isRequestWebId=!0;var e,t=function(e){var t=s.envInfo.user.web_id||e.web_id,n=e.ssid;s.isRequestWebId=!1,s.envInfo.user.ssid=n,s.envInfo.user.web_id=t,s.envInfo.user.user_unique_id=t,s.saveTokenToStorage({web_id:t,ssid:n,user_unique_id:t}),s.waitForVerifyTokens?(s.lock(),s.verifyTokens(s.realUuid)):(s.unlock(),s.callback&&s.callback())};s.isWebidDisabled?t({web_id:sn(),ssid:""}):(e=s.userTokensPrefix+"/v1/user/webid",$t(e,{app_id:s.app_id,url:location.href,user_agent:zt.userAgent,referer:zt.referrer,user_unique_id:""},function(e){0!==e.e?s.logger.error("请求 webid 失败。请联系管理员。"):t(e)},function(){s.isRequestWebId=!1,s.logger.error("获取 webid 失败，数据将不会被上报")}))},s.verifyTokens=function(e){var t=s.tokensCacheKey;if(s.waitForVerifyTokens=!1,s.realUuid=""+e,s.isRequestWebId)return s.waitForVerifyTokens=!0,s.logger.info("正在请求 webid，requestSsid 将会在前者请求完毕之后被调用"),!1;var n=s.getUserTokens();if(n.user_unique_id===s.realUuid&&n.ssid&&n.web_id)s.logger.info("传入的 user_id/user_unique_id 与 缓存中的完全一致，无需再次请求"),s.unlock();else{s.lock(),s.envInfo.user.user_unique_id=s.realUuid;var r=an({},s.getUserTokens(),{user_unique_id:s.realUuid});if(s.storageClient.setItem(t,r),rn.isLowIE())return s.unlock(),!1;s.isSsidDisabled?(s.unlock(),s.callback&&s.callback()):s.requestSsid()}},s.requestSsid=function(){var n=s.getUserTokens(),e=s.userTokensPrefix+"/v1/user/ssid";$t(e,{app_id:s.app_id,web_id:n.web_id,user_unique_id:""+n.user_unique_id},function(e){if(s.unlock(),0!==e.e)s.logger.error("请求 ssid 失败~");else{s.envInfo.user.ssid=e.ssid;var t=an({},n,{ssid:e.ssid});s.setUserTokens(t),s.logger.info("根据 user_unique_id 更新 ssid 成功！注意：在这之前不应该有数据被发出去"),s.callback&&s.callback()}},function(){s.unlock(),s.logger.error("根据 user_unique_id 获取新 ssid 失败")})},s.setEvtParams=function(e){var t=an({},e);Object.keys(t).forEach(function(e){s.evtParams[e]=t[e]})},s.mergeEnvToEvents=function(e){var t=s.mergeEnv(),n=[],r=0,i=void 0;return e.forEach(function(e){var t=!!e.params.__disable_storage__;void 0===i?i=t:(t!==i||5<=n[r].length)&&(r+=1,i=!i),n[r]=n[r]||[],n[r].push(e)}),n.map(function(e){return{events:e.map(function(e){var t=an({},s.evtParams,e.params);return delete t.__disable_storage__,an({},e,{params:JSON.stringify(t)})}),user:t.user,header:t.header,verbose:s.debugMode?1:void 0,__disable_storage__:e[0].params.__disable_storage__}})},s.mergeEnv=function(){var e=s.get(),t=nn.get(),n=an({},e.user),r=an({},t.header.headers.custom,e.header.headers.custom),i=an({},t.header.headers,e.header.headers,{custom:r}),o=an({},t.header,e.header);return{user:n,header:an({},o,{headers:JSON.stringify(i)})}},s.evtParams={},s.reportUrl="",s.userTokensPrefix="",s.isSsidDisabled=!1,s.isWebidDisabled=!1,s.isSdkMonitorDisabled=!1,s.debugMode=!1,s.blackUuid=["null","undefined","0","","None"],s.logger=function(){},s.storageClient=new Ut,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.lock=function(){this.isUserTokensReady=!1},t.prototype.unlock=function(){this.isUserTokensReady=!0},t.prototype.enableDebugMode=function(e){this.debugMode=e},t}(gt),hn=function(){function r(e){var t=e.disable_storage,n=void 0!==t&&t;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this._storage=new Ut(n),this._storageKey="",this._data=void 0}return r.prototype.setStorageKey=function(e){this._storageKey=e},r.prototype.getAllEvents=function(){var n=this.getData();Object.keys(n).reduce(function(e,t){return e.concat(n[t]||[])},[])},r.prototype.getData=function(){return this._checkIsDataInit(),this._data},r.prototype.add=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];this._checkIsDataInit(),0!==t.length&&(this._data[e]=t,this._save())},r.prototype.delete=function(e){this._checkIsDataInit(),this._data[e]&&(delete this._data[e],this._save())},r.prototype._checkIsDataInit=function(){if(void 0===this._data)try{var e,t=this._getDataFromStorage();if(rn.isArray(t))this._data=((e={})[sn()]=t,e),this._save();else this._data=t}catch(t){this._data={}}},r.prototype._checkStorageKey=function(){if(!this._storageKey)throw new Error("must call setStorageKey('xxx') first")},r.prototype._getDataFromStorage=function(){return this._checkStorageKey(),this._storage.getItem(this._storageKey)||{}},r.prototype._save=function(){this._checkStorageKey(),this._storage.setItem(this._storageKey,this._data)},r}(),fn=function(e,t){try{var r=e.split("v1")[0];t.forEach(function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return"&"===t[0]?t.slice(1):t}(e),n=new Image(1,1);n.onload=function(){n=null},n.onerror=function(){n=null},n.src=r+"/v1/gif?"+t})}catch(e){}},dn=function(e,t){if(window.XDomainRequest)return fn(e,t);var n=new XMLHttpRequest;n.open("POST",e+"?rdn="+Math.random(),!0),n.onload=function(){},n.onerror=function(){n.abort()},n.send(JSON.stringify(t))},pn=function(r,i,o,s){try{var a=r.split("v1")[0];if(!a)return void s(r,i,Nt);i.forEach(function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return"&"===t[0]?t.slice(1):t}(e),n=new Image(1,1);n.onload=function(){n=null,o()},n.onerror=function(){n=null,s(r,i,Ht)},n.src=a+"/v1/gif?"+t})}catch(o){s(r,i,Bt,o.message)}},gn=function e(t){var c=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.send=function(e){var t=e.url,n=e.data,o=e.success,r=e.fail,s=e.eventError;if(function(e){var t=e.url,n=e.data,r=e.success,i=e.fail,o=e.notSure,s=e.isUnload,a=n;if(window.XDomainRequest)pn(t,a,r,i);else{if(s)return window.navigator&&window.navigator.sendBeacon?(o(),window.navigator.sendBeacon(t,JSON.stringify(a))?r():i(t,n,Wt)):pn(t,a,r,i);var c=new XMLHttpRequest;c.open("POST",t+"?rdn="+Math.random(),!0),c.onload=function(){r(t,a,c.responseText)},c.onerror=function(){c.abort(),i(t,a,Kt)},c.send(JSON.stringify(a))}}({url:t,data:n,success:function(t,n,e){o();try{var r=JSON.parse(e).e;if(0!==r){var i="未知错误";-2===r&&(i="事件格式错误！请检查字段类型是否正确。"),c.logger.error("数据上报失败！","错误码："+r+"。错误信息："+i),s(n,r),mn(t,n,r)}}catch(e){mn(t,n,Vt)}},fail:function(e,t,n){c.logger.error("数据上报失败！","错误码："+n),r(t,n),mn(e,t,n)},notSure:e.notSure,isUnload:e.isUnload}),!c.isSdkMonitorDisabled&&!c.isSdkOnLoadEventReady){c.isSdkOnLoadEventReady=!0;try{var i=n[0].header,a=n[0].user;vn(t,{app_id:i.app_id,app_name:i.app_name,sdk_version:i.sdk_version,web_id:a.web_id})}catch(e){}}},this.logger=t.logger||Gt,this.isSdkOnLoadEventReady=!1,this.isSdkMonitorDisabled=!1},vn=function(e,t){try{var n={events:[{event:"onload",params:JSON.stringify({app_id:t.app_id,app_name:t.app_name||"",sdk_version:t.sdk_version}),local_time_ms:Date.now()}],user:{user_unique_id:t.web_id},header:{app_id:1338}};setTimeout(function(){dn(e,[n])},16)}catch(e){}},mn=function(e,t,n){try{var r=t[0].user,i=t[0].header,o=[];t.forEach(function(e){e.events.forEach(function(e){o.push(e)})});var s={events:o.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:n,app_id:i.app_id,app_name:i.app_name||"",error_event:e.event,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(i),user:JSON.stringify(r)}),local_time_ms:Date.now()}}),user:{user_unique_id:r.user_unique_id},header:{app_id:1338}};setTimeout(function(){dn(e,[s])},16)}catch(e){}},_n=function(c){function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.call(this));s.addListener=function(){window.addEventListener("unload",function(){s.report(!0)},!1),window.addEventListener("beforeunload",function(){s.report(!0)},!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&s.report(!0)},!1)},s.setReady=function(e){s.isReady=e,s.eventSender.isSdkMonitorDisabled=s.isSdkMonitorDisabled,s.checkAndSendCachedStorageEvents(),s.report()},s.eventReportTimer=null,s.event=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=s.memoryCacheManager.getItem(s.evtDataCacheKey)||[],r=t?[].concat(e,n):[].concat(n,e);s.memoryCacheManager.setItem(s.evtDataCacheKey,r),5<=r.length?s.report():(s.eventReportTimer&&clearTimeout(s.eventReportTimer),s.eventReportTimer=setTimeout(function(){s.report(),s.eventReportTimer=null},s.waitForBatchTime))},s.report=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!s.isUserTokensReady)return!1;if(!s.isReady)return!1;var t=s.memoryCacheManager.getItem(s.evtDataCacheKey)||[];s.memoryCacheManager.removeItem(s.evtDataCacheKey);var n=s.mergeEnvToEvents(t);s.sendData(n,e)},s.sendData=function(e,n){var r=[],i=0,o=void 0;e.forEach(function(e){var t=!!e.__disable_storage__;void 0===o?o=t:(t!==o||5<=r[i].length)&&(i+=1,o=!o),r[i]=r[i]||[],r[i].push(e)}),r.forEach(function(e){var t=sn();e[0].__disable_storage__||s.eventStorage.add(t,e),s._sendData(t,e,n)})},s.checkAndSendCachedStorageEvents=function(){var t=s.eventStorage.getData(),e=Object.keys(t);0<e.length&&e.forEach(function(e){s._sendData(e,t[e])})},s._sendData=function(e,t,n){s.isReporting=!0;var r=function(){s.isReporting=!1};s.eventSender.send({url:s.reportUrl,data:t,success:function(){r(),s.sendDataSuccess(e)},fail:function(e,t){r(),s.reportErrorCallback(e,t),setTimeout(function(){s.report()},3e3)},eventError:function(e,t){s.reportErrorCallback(e,t)},notSure:r,isUnload:n})},s.sendDataSuccess=function(e){s.eventStorage.delete(e),s.report()};var t=e.log,n=e.disable_storage,r=e.max_batch_num,i=void 0===r?5:r,o=e.batch_time,a=void 0===o?30:o;return s.init(e),s.maxBatchNum=i,s.waitForBatchTime=a,s.isReady=!1,s.addListener(),s.enableDebugMode(!!t),s.memoryCacheManager=new Ut(!0),s.eventStorage=new hn({disable_storage:n}),s.eventStorage.setStorageKey(s.evtDataCacheKey),s.eventSender=new gn({logger:s.logger}),s.reportErrorCallback=function(){},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,c),u}(ln),yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bn=(tn=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return tn+=1}),wn=function e(t){var c=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.init=function(e){if(!rn.isObj(e))throw new Error("init 的参数必须是Object类型");c.logger.init(e.log),c.channel=new _n(yn({},e,{name:c.name})),c.channel.callback=function(){c.callbackSend&&c.start()}},this.config=function(e){rn.isObj(e)||c.logger.throw("config 参数必须是 {} 的格式"),e.log&&(c.logger.init(!0),c.channel.enableDebugMode(!0),e.log=null);var t=Object.keys(e);if(!t.length)return!1;var n=t,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o,a=e[s];switch(s){case"evtParams":c.channel.setEvtParams(a);break;case"disable_ssid":c.logger.deprecated("(disable_ssid)请通过init函数来设置。"),a&&(c.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),c.channel.isSsidDisabled=a);break;case"disable_auto_pv":a&&(c.logger.info("已禁止默认上报predefine_pageview事件，需手动上报。"),c._autoSendPV=!1);break;case"_staging_flag":""+a=="1"&&c.logger.info("根据_staging_flag设置，数据将会上报到stag 表。"),c.channel.setEvtParams({_staging_flag:Number(a)});break;case"reportErrorCallback":"function"==typeof a&&(c.channel.reportErrorCallback=a);break;default:c.channel.setEnv(s,a)}}},this.send=function(){c.start()},this.start=function(){if(c.channel.isUserTokensReady){if(c._isSendFuncCalled)return;c._isSendFuncCalled=!0,c.logger.info("看到本提示，意味着用户信息已完全就绪，上报通道打开。用户标识如下："),c.logger.logJSON(c.channel.get().user),c._autoSendPV&&c.predefinePageView(),c.channel.setReady(!0)}else c.callbackSend=!0},this.predefinePageView=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={title:document.title||location.pathname,url:location.href,url_path:location.pathname},n=yn({},t,e);c.event("predefine_pageview",n,!0)},this.event=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rn.isBoolean(t[t.length-1]),i=!!r&&t[t.length-1],o=r?t.slice(0,t.length-1):t,s=o[0],a=[];rn.isArray(s)?a=o:a[0]=o,a=a.map(function(e){return function(e,t){var n=e;/^event\./.test(e)&&(n=e.slice(6));var r=t;return rn.isObj(r)||(r={}),r.event_index=bn(),{event:n,params:r,local_time_ms:+new Date}}.apply(void 0,e)}),c.channel.event(a,i)},this._isSendFuncCalled=!1,this._autoSendPV=!0,this.name=t,this.logger=new Xt(t)};wn.exportMethods=["init","config","send","start","predefinePageView"];var En=function e(t){var s=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._exportCollect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s._isQueueProcessed?s._executeCmd.apply(s,t):(s.cmdQueue.push(t),s._processCmdQueue())},this._processCmdQueue=function(){if(0!==s.cmdQueue.length){var n=(e=s.cmdQueue,r=-1,e.forEach(function(e,t){"init"===e[0]&&(r=t)}),r);-1!==n&&(s._isQueueProcessed=!0,s._executeCmd.apply(s,s.cmdQueue[n]),s.cmdQueue.forEach(function(e,t){t!==n&&s._executeCmd.apply(s,e)}),s.cmdQueue=[])}var e,r},this._executeCmd=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o=t[0];-1<wn.exportMethods.indexOf(o)?(r=s.colloctor)[o].apply(r,t.slice(1)):(i=s.colloctor).event.apply(i,t)},this.name=t||"Collector"+ +new Date,this.cmdQueue=[],this.colloctor=new wn(this.name),this._isQueueProcessed=!1,this._processCmdQueue(),this._exportCollect.init=this._exportCollect.bind(this,"init"),this._exportCollect.config=this._exportCollect.bind(this,"config"),this._exportCollect.send=this._exportCollect.bind(this,"send"),this._exportCollect.start=this._exportCollect.bind(this,"start"),this._exportCollect.predefinePageView=this._exportCollect.bind(this,"predefinePageView"),this._exportCollect},Sn={},kn={},On=function(e){return kn[e]||(kn[e]=[]),kn[e]},xn=function(e){var t=e[0],n=e[1],r=t.split(".");if(1===r.length)On("default").push([t,n]);else if(2===r.length)"event"===r[0]?On("default").push([t,n]):On(r[0]).push([r[1],n]);else if(3===r.length){var i=r[0],o=[r[1],r[2]].join(".");On(i).push([o,n])}},Cn=function(n,e){e.forEach(function(e){var t;(t=n,Sn[t]||(Sn[t]=new En(t)),Sn[t]).apply(void 0,e)})},Rn=function(){Tn.q.forEach(function(e){var t=[].slice.call(e);rn.isArray(t[0])?t.forEach(function(e){xn(e)}):xn(t)}),Object.keys(kn).forEach(function(e){Cn(e,kn[e]),kn[e]=[]}),Tn.q=[]},Tn=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.q.push(n),Rn()};Tn.q=[],Tn.l=+new Date,Tn._instanceMap=Sn,Tn._instanceCmdMap=kn,Tn.init=Tn.bind(null,"init"),Tn.config=Tn.bind(null,"config"),Tn.send=Tn.bind(null,"send"),Tn.start=Tn.bind(null,"start"),Tn.predefinePageView=Tn.bind(null,"predefinePageView"),function(e){var t=window.TeaAnalyticsObject;if(t){if(!window[t])throw new Error("async setup code error!");var n=window[t];e.q=n.q||[],e.l=n.l||+new Date,window[t]=e}}(Tn),Rn();var In=function(i){function e(e){var t=i.call(this,e)||this,n=tt.Loaded,r=tt.Error;return t.appShell.on(n,function(){return t.sendEvent("appshell_loaded")}),t.appShell.on(r,function(){return t.sendEvent("appshell_error")}),t.appShell.on("StartMain",function(){return t.sendEvent("appshell_start")}),t}return o(e,i),e.prototype.apply=function(){return s(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){return t=this.appShell.options,n=t.teaAppId,r=t.teaChannel,[2,Promise.resolve().then(function(){Tn.init({app_id:n,channel:r}),Tn.start()})]})})},e.prototype.exportGlobal=function(){return{key:"Tea",value:Tn}},e.prototype.sendEvent=function(e,t){if(void 0===t&&(t={}),n=t,"[object Object]"===Object.prototype.toString.call(n)){var n,r=this.appShell.options,i=r.appName,o=r.appVersion;t=Object.assign(t,{app_name:i,app_shell_version:this.appShell.version,app_version:o}),Tn(e,t)}},e}(w);return ot.use(In),ot});
</script><script>AppShell.config({"appName":"FeishuWebsite","appVersion":"1.0.0","crossOrigin":"","retry":2,"teaAppId":1658,"timeout":10000,"sentryDsn":"","slardar":{"bid":"feishu_browser","pid":"home"},"resources":{"scripts":[{"url":"https://s1.pstatp.com/ee/feishu_website/static/js/vendor.4021d3ac.js","backupUrl":"https://s1.pstatp.com/ee/feishu_wesite/static/js/vendor.4021d3ac.js"},{"url":"https://s1.pstatp.com/ee/feishu_website/static/js/index.60424057.js","backupUrl":"https://s1.pstatp.com/ee/feishu_wesite/static/js/index.60424057.js"}],"styles":[{"url":"https://s1.pstatp.com/ee/feishu_website/static/css/index.252bffb9.css","backupUrl":"https://s1.pstatp.com/ee/feishu_wesite/static/css/index.252bffb9.css"}]},"gaId":"UA-98246768-7"});</script>
<script>
  (function (win, doc, src, opt) {
  win[opt] = win[opt] || function () {
    win[opt].options = Object.assign((win[opt].options || {}), arguments[0])
  };
  var script = doc.createElement("script");
  script.async = 1;
  script.src = src;
  doc.body.appendChild(script);
})(window, document, "http://127.0.0.1:5051/webchat.js", "clinkWebchatOptions");
clinkWebchatOptions({
  accessId: "e0745e95-5e32-48a8-bfd1-f63fc4a1a5fd"
});
</script>

</body>
</html>
